\part{Quantum Spins, Coherent-state Path Integral, and Topological Terms}

\chapter{Quantum Spin}

We begin by considering the Hilbert space $\hilbert$ for a single quantum spin-1/2 particle. This is a two-dimensional complex vector space.

The conventional approach is to use an orthonormal basis formed by the eigenvectors of the spin operator along a chosen axis, typically the $z$-axis, denoted $\op{S}_z$.
\begin{equation}
    \op{S}_z \ket{\uparrow} = +\frac{\hbar}{2} \ket{\uparrow} \quad \text{and} \quad \op{S}_z \ket{\downarrow} = -\frac{\hbar}{2} \ket{\downarrow}
\end{equation}
Here, $\ket{\uparrow}$ represents the "spin up" state and $\ket{\downarrow}$ represents the "spin down" state. These two states form a complete orthonormal basis, satisfying:
\begin{itemize}
    \item \textbf{Orthogonality:} $\braket{\uparrow}{\downarrow} = 0$
    \item \textbf{Normalization:} $\braket{\uparrow}{\uparrow} = \braket{\downarrow}{\downarrow} = 1$
    \item \textbf{Completeness:} $\ketbra{\uparrow}{\uparrow} + \ketbra{\downarrow}{\downarrow} = \opI$
\end{itemize}
where $\opI$ is the identity operator in $\hilbert$.

But this simple, discrete basis has two drawbacks:
\begin{itemize}
    \item This discrete parametrized complete-set 
    is not convenient for constructing the path integral formalism of quantum spins.
    \item $SU(2)$ spin symmetry is broken either explicitly or not manifest.
\end{itemize}

\section{Spin Coherent States}

A general, normalized state $\ket{\psi}$ in the spin-1/2 Hilbert space can be written as a complex linear combination of the basis states:
\begin{equation}
    \ket{\psi} = z_1 \ket{\uparrow} + z_2 \ket{\downarrow}
\end{equation}
where $z_1, z_2 \in \mathbb{C}$ are complex coefficients.

The normalization condition $\braket{\psi}{\psi} = 1$ imposes a constraint on these coefficients:
\begin{equation}
    \bra{\psi}\psi\rangle = (|z_1|^2 + |z_2|^2) = 1
\end{equation}
A complex number $z = x + \mi y$ has two real parameters. Therefore, the pair $(z_1, z_2)$ is defined by four real parameters. The normalization condition $|z_1|^2 + |z_2|^2 = 1$ removes one degree of freedom, leaving three.

Furthermore, in quantum mechanics, the overall phase of a state vector is unphysical. The states $\ket{\psi}$ and $\me^{\mi\gamma} \ket{\psi}$ (for any real $\gamma$) represent the same physical state (i.e., they belong to the same ray in Hilbert space). This "gauge freedom" removes one more degree of freedom.

This leaves $4 - 1 - 1 = 2$ real, physical degrees of freedom. This is a crucial observation: the state space of a spin-1/2 particle is topologically equivalent to the surface of a 2D sphere, which is also parameterized by two angles (like latitude and longitude).

We can explicitly parameterize $z_1$ and $z_2$ using two angles, $\theta$ and $\phi$, which will map directly to the surface of a sphere. A standard (but not unique) parametrization for the spin coherent state, labeled by a unit vector $\bm{n}$, is:
\begin{equation}
    \ket{\bm{n}} \equiv \ket{\theta, \phi} = \cos\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2} \ket{\uparrow} + \sin\left(\frac{\theta}{2}\right) \me^{\mi\phi/2} \ket{\downarrow}
    \label{eq:coherent_state}
\end{equation}
Here, the spherical coordinate angles have the domains $\theta \in [0, \mpi]$ and $\phi \in [0, 2\mpi)$. We can easily verify that this state is normalized:
\begin{equation}
    \braket{\bm{n}}{\bm{n}} = \left|\cos\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2}\right|^2 + \left|\sin\left(\frac{\theta}{2}\right) \me^{\mi\phi/2}\right|^2 = \cos^2\left(\frac{\theta}{2}\right) + \sin^2\left(\frac{\theta}{2}\right) = 1
\end{equation}
This set of states $\{\ket{\bm{n}}\}$ is continuously parameterized by the angles $(\theta, \phi)$, addressing the first drawback of the discrete basis.

\subsection{Physical Interpretation: The Bloch Sphere}

To understand the physical meaning of $\theta$ and $\phi$, we compute the expectation value of the vector spin operator $\vecS$ in the state $\ket{\bm{n}}$. We will set $\hbar = 1$ from here on for simplicity. The spin operator is $\vecS = \frac{1}{2}\vecsigma$, where $\vecsigma = (\op{\sigma}_x, \op{\sigma}_y, \op{\sigma}_z)$ is the vector of Pauli matrices:
\begin{equation}
    \op{\sigma}_x = \begin{pmatrix} 0 & 1 \\ 1 & 0 \end{pmatrix}, \quad
    \op{\sigma}_y = \begin{pmatrix} 0 & -\mi \\ \mi & 0 \end{pmatrix}, \quad
    \op{\sigma}_z = \begin{pmatrix} 1 & 0 \\ 0 & -1 \end{pmatrix}
\end{equation}
In the $\ket{\uparrow}, \ket{\downarrow}$ basis, $\ket{\bm{n}}$ is represented by the column vector:
\begin{equation}
    \ket{\bm{n}} = \begin{pmatrix} \cos(\theta/2) \, \me^{-\mi\phi/2} \\ \sin(\theta/2) \, \me^{\mi\phi/2} \end{pmatrix}
    \quad \implies \quad
    \bra{\bm{n}} = \begin{pmatrix} \cos(\theta/2) \, \me^{\mi\phi/2} & \sin(\theta/2) \, \me^{-\mi\phi/2} \end{pmatrix}
\end{equation}

\paragraph{Expectation value of $\op{S}_z$:}
\begin{equation}\begin{aligned}
    \langle \op{S}_z \rangle &= \bra{\bm{n}} \left(\frac{1}{2}\op{\sigma}_z\right) \ket{\bm{n}}
    = \frac{1}{2} \begin{pmatrix} \cos(\theta/2) \, \me^{\mi\phi/2} & \sin(\theta/2) \, \me^{-\mi\phi/2} \end{pmatrix}
      \begin{pmatrix} 1 & 0 \\ 0 & -1 \end{pmatrix}
      \begin{pmatrix} \cos(\theta/2) \, \me^{-\mi\phi/2} \\ \sin(\theta/2) \, \me^{\mi\phi/2} \end{pmatrix} \\
    &= \frac{1}{2} \left( \cos^2\left(\frac{\theta}{2}\right) - \sin^2\left(\frac{\theta}{2}\right) \right)
    = \frac{1}{2} \cos(\theta)
\end{aligned}\end{equation}

\paragraph{Expectation value of $\op{S}_x$:}
\begin{equation}\begin{aligned}
    \langle \op{S}_x \rangle &= \bra{\bm{n}} \left(\frac{1}{2}\op{\sigma}_x\right) \ket{\bm{n}}
    = \frac{1}{2} \begin{pmatrix} \dots \end{pmatrix}
      \begin{pmatrix} 0 & 1 \\ 1 & 0 \end{pmatrix}
      \begin{pmatrix} \dots \end{pmatrix} \\
    &= \frac{1}{2} \left( \cos(\theta/2)\sin(\theta/2) \me^{\mi\phi/2} \me^{\mi\phi/2} + \sin(\theta/2)\cos(\theta/2) \me^{-\mi\phi/2} \me^{-\mi\phi/2} \right) \\
    &= \frac{1}{2} \cos(\theta/2)\sin(\theta/2) \left( \me^{\mi\phi} + \me^{-\mi\phi} \right)
    = \left(\frac{1}{2} \sin\theta\right) \left(\frac{\me^{\mi\phi} + \me^{-\mi\phi}}{2}\right)
    = \frac{1}{2} \sin\theta \cos\phi
\end{aligned}\end{equation}

\paragraph{Expectation value of $\op{S}_y$:}
\begin{equation}\begin{aligned}
    \langle \op{S}_y \rangle &= \bra{\bm{n}} \left(\frac{1}{2}\op{\sigma}_y\right) \ket{\bm{n}}
    = \frac{1}{2} \begin{pmatrix} \dots \end{pmatrix}
      \begin{pmatrix} 0 & -\mi \\ \mi & 0 \end{pmatrix}
      \begin{pmatrix} \dots \end{pmatrix} \\
    &= \frac{1}{2} \left( \cos(\theta/2)(-\mi)\sin(\theta/2) \me^{\mi\phi/2} \me^{\mi\phi/2} + \sin(\theta/2)(\mi)\cos(\theta/2) \me^{-\mi\phi/2} \me^{-\mi\phi/2} \right) \\
    &= \frac{1}{2} \cos(\theta/2)\sin(\theta/2) \left( -\mi \me^{\mi\phi} + \mi \me^{-\mi\phi} \right)
    = \left(\frac{1}{2} \sin\theta\right) \left(\frac{\me^{\mi\phi} - \me^{-\mi\phi}}{2\mi}\right)
    = \frac{1}{2} \sin\theta \sin\phi
\end{aligned}\end{equation}

Combining these results, the expectation value of the spin vector is:
\begin{equation}
    \langle \vecS \rangle = \frac{1}{2} \left( \sin\theta \cos\phi, \; \sin\theta \sin\phi, \; \cos\theta \right)
\end{equation}
This is a vector of length $S=1/2$ pointing in the direction specified by the unit vector $\bm{n}$:
\begin{equation}
    \bm{n} = (\sin\theta \cos\phi, \sin\theta \sin\phi, \cos\theta)
\end{equation}
Thus, the state $\ket{\bm{n}}$ is the quantum state that "points" in the classical direction $\bm{n}$. This direction vector lives on the surface of a unit sphere, known as the \textbf{Bloch Sphere}.

This formalism treats all directions $\bm{n}$ on an equal footing, making the SU(2) rotational symmetry manifest. This addresses the second drawback of the discrete basis.

% \subsection{Coherent State as an Eigenvector}

The eigenvector equation:
\begin{equation}
    (\vecS \cdot \vecn) \ket{\bm{n}} = \frac{1}{2} \ket{\bm{n}}
\end{equation}
This equation signifies that the coherent state $\ket{\bm{n}}$ is, by definition, the "spin up" eigenvector of the spin operator projected along its own pointing direction $\vecn$, with the eigenvalue $+1/2$ (with $\hbar=1$).


\begin{proof}
    We first construct the operator $\vecS \cdot \vecn$ in matrix form:
    \begin{equation}\begin{aligned}
        \vecS \cdot \vecn &= \op{S}_x n_x + \op{S}_y n_y + \op{S}_z n_z \\
        &= \frac{1}{2} (\op{\sigma}_x n_x + \op{\sigma}_y n_y + \op{\sigma}_z n_z) \\
        &= \frac{1}{2} \left[ \begin{pmatrix} 0 & 1 \\ 1 & 0 \end{pmatrix} \sin\theta \cos\phi + \begin{pmatrix} 0 & -\mi \\ \mi & 0 \end{pmatrix} \sin\theta \sin\phi + \begin{pmatrix} 1 & 0 \\ 0 & -1 \end{pmatrix} \cos\theta \right] \\
        &= \frac{1}{2} \begin{pmatrix}
        \cos\theta & \sin\theta (\cos\phi - \mi \sin\phi) \\
        \sin\theta (\cos\phi + \mi \sin\phi) & -\cos\theta
        \end{pmatrix} \\
        &= \frac{1}{2} \begin{pmatrix}
        \cos\theta & \sin\theta \, \me^{-\mi\phi} \\
        \sin\theta \, \me^{\mi\phi} & -\cos\theta
        \end{pmatrix}
    \end{aligned}\end{equation}
    Now, we apply this operator to the coherent state vector $\ket{\bm{n}}$:
    \begin{equation}
        (\vecS \cdot \vecn) \ket{\bm{n}} = \frac{1}{2} \begin{pmatrix}
        \cos\theta & \sin\theta \, \me^{-\mi\phi} \\
        \sin\theta \, \me^{\mi\phi} & -\cos\theta
        \end{pmatrix}
        \begin{pmatrix}
        \cos(\theta/2) \, \me^{-\mi\phi/2} \\
        \sin(\theta/2) \, \me^{\mi\phi/2}
        \end{pmatrix}
    \end{equation}
    We compute the top and bottom components of the resulting vector separately.

    \textbf{Top component:}
    \begin{equation}\begin{aligned}
        & \frac{1}{2} \left[ \cos\theta \cos(\theta/2) \me^{-\mi\phi/2} + \sin\theta \me^{-\mi\phi} \sin(\theta/2) \me^{\mi\phi/2} \right] \\
        &= \frac{1}{2} \me^{-\mi\phi/2} \left[ \cos\theta \cos(\theta/2) + \sin\theta \sin(\theta/2) \right] \\
        &= \frac{1}{2} \me^{-\mi\phi/2} \left[ \cos(\theta - \theta/2) \right] \quad \text{(using } \cos(A-B) \text{ identity)} \\
        &= \frac{1}{2} \cos(\theta/2) \me^{-\mi\phi/2}
    \end{aligned}\end{equation}
    This is precisely $\frac{1}{2}$ times the top component of $\ket{\bm{n}}$.

    \textbf{Bottom component:}
    \begin{equation}\begin{aligned}
        & \frac{1}{2} \left[ \sin\theta \me^{\mi\phi} \cos(\theta/2) \me^{-\mi\phi/2} - \cos\theta \sin(\theta/2) \me^{\mi\phi/2} \right] \\
        &= \frac{1}{2} \me^{\mi\phi/2} \left[ \sin\theta \cos(\theta/2) - \cos\theta \sin(\theta/2) \right] \\
        &= \frac{1}{2} \me^{\mi\phi/2} \left[ \sin(\theta - \theta/2) \right] \quad \text{(using } \sin(A-B) \text{ identity)} \\
        &= \frac{1}{2} \sin(\theta/2) \me^{\mi\phi/2}
    \end{aligned}\end{equation}
    This is precisely $\frac{1}{2}$ times the bottom component of $\ket{\bm{n}}$.

    Combining both components, we have shown:
    \begin{equation}
        (\vecS \cdot \vecn) \ket{\bm{n}} = \frac{1}{2} \begin{pmatrix}
        \cos(\theta/2) \me^{-\mi\phi/2} \\
        \sin(\theta/2) \me^{\mi\phi/2}
        \end{pmatrix}
        = \frac{1}{2} \ket{\bm{n}}
    \end{equation}
    This completes the proof. 
\end{proof}


\subsection{Gauge Choice and Topological Singularities}

The parametrization in Eq. \eqref{eq:coherent_state} is not unique, and it hides a subtle topological problem.
\begin{itemize}
    \item \textbf{At the North Pole} ($\theta=0$): The direction $\bm{n}$ is $(0,0,1)$. The angle $\phi$ is ill-defined. Our formula gives $\ket{\theta=0} = \cos(0)\me^{-\mi\phi/2}\ket{\uparrow} + \sin(0)\dots = \me^{-\mi\phi/2} \ket{\uparrow}$. The state vector itself depends on the meaningless angle $\phi$. This is a \textbf{singularity}.
    \item \textbf{At the South Pole} ($\theta=\mpi$): The direction $\bm{n}$ is $(0,0,-1)$. Our formula gives $\ket{\theta=\mpi} = \cos(\mpi/2)\dots + \sin(\mpi/2)\me^{\mi\phi/2}\ket{\downarrow} = \me^{\mi\phi/2} \ket{\downarrow}$. This is also singular.
\end{itemize}
This is analogous to the problem of creating a flat map of the Earth: you cannot do so without singularities (e.g., at the poles) or cuts.

We can "fix" the singularity at one pole by making a $\phi$-dependent gauge choice (i.e., multiplying by an overall phase $\me^{\mi\gamma(\phi)}$).

\textbf{Choice 1: Regular at North Pole.}
Let's choose an overall phase $\gamma = \phi/2$. The new state, $\ket{\bm{n}}_N$, is:
\begin{equation}
    \ket{\bm{n}}_N = \me^{\mi\phi/2} \ket{\bm{n}} = \cos\left(\frac{\theta}{2}\right) \ket{\uparrow} + \sin\left(\frac{\theta}{2}\right) \me^{\mi\phi} \ket{\downarrow}
\end{equation}
\begin{itemize}
    \item At the North Pole ($\theta=0$): $\ket{\bm{n}}_N = \cos(0)\ket{\uparrow} + \sin(0)\dots = \ket{\uparrow}$. This is now regular and well-defined.
    \item At the South Pole ($\theta=\mpi$): $\ket{\bm{n}}_N = \cos(\mpi/2)\ket{\uparrow} + \sin(\mpi/2)\me^{\mi\phi}\ket{\downarrow} = \me^{\mi\phi}\ket{\downarrow}$. The singularity has been "pushed" to the South Pole.
\end{itemize}

\textbf{Choice 2: Regular at South Pole.}
Let's choose $\gamma = -\phi/2$. The new state, $\ket{\bm{n}}_S$, is:
\begin{equation}
    \ket{\bm{n}}_S = \me^{-\mi\phi/2} \ket{\bm{n}} = \cos\left(\frac{\theta}{2}\right) \me^{-\mi\phi} \ket{\uparrow} + \sin\left(\frac{\theta}{2}\right) \ket{\downarrow}
\end{equation}
This state is regular at the South Pole ($\ket{\bm{n}}_S = \ket{\downarrow}$) but singular at the North Pole.

This unavoidable singularity is topological in nature and is the origin of the \textbf{Berry Phase}, or the "topological term," in the coherent-state path integral.

\subsection{Over-Completeness and Orthogonality}

The set of all coherent states $\{\ket{\bm{n}}\}$ for all $\bm{n}$ on the sphere is an \textbf{over-complete} basis. The Hilbert space is only 2-dimensional, but we have an infinite, continuous set of states. This means the states are not, in general, orthogonal.
\begin{equation}
    \braket{\bm{n}'}{\bm{n}} \neq 0 \quad \text{for } \bm{n}' \neq \bm{n} \text{ and } \bm{n}' \neq -\bm{n}
\end{equation}
A special exception, as noted in the text, is for antipodal states.

\subsection{Orthogonality of Antipodal States}
Let us prove that $\braket{-\bm{n}}{\bm{n}} = 0$. The antipodal point $-\bm{n}$ corresponds to the angles $(\theta', \phi') = (\mpi - \theta, \phi + \mpi)$.

We write the state $\ket{-\bm{n}}$ using Eq. \eqref{eq:coherent_state}:
\begin{equation}\begin{aligned}
    \ket{-\bm{n}} &= \cos\left(\frac{\mpi-\theta}{2}\right) \me^{-\mi(\phi+\mpi)/2} \ket{\uparrow} + \sin\left(\frac{\mpi-\theta}{2}\right) \me^{\mi(\phi+\mpi)/2} \ket{\downarrow} \\
    &= \cos\left(\frac{\mpi}{2}-\frac{\theta}{2}\right) \me^{-\mi\phi/2} \me^{-\mi\mpi/2} \ket{\uparrow} + \sin\left(\frac{\mpi}{2}-\frac{\theta}{2}\right) \me^{\mi\phi/2} \me^{\mi\mpi/2} \ket{\downarrow}
\end{aligned}\end{equation}
Using $\cos(\mpi/2 - x) = \sin(x)$, $\sin(\mpi/2 - x) = \cos(x)$, $\me^{-\mi\mpi/2} = -\mi$, and $\me^{\mi\mpi/2} = \mi$:
\begin{equation}
    \ket{-\bm{n}} = \sin\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2} (-\mi) \ket{\uparrow} + \cos\left(\frac{\theta}{2}\right) \me^{\mi\phi/2} (\mi) \ket{\downarrow}
\end{equation}
Now we compute the inner product $\braket{-\bm{n}}{\bm{n}}$:
\begin{equation}
    \begin{aligned}
    &\braket{-\bm{n}}{\bm{n}} \\
    &=\left( \mi \sin\left(\frac{\theta}{2}\right) \me^{\mi\phi/2} 
    \bra{\uparrow} + (-\mi) \cos\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2} \bra{\downarrow} \right)
    \left( \cos\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2} \ket{\uparrow} + \sin\left(\frac{\theta}{2}\right) \me^{\mi\phi/2} \ket{\downarrow} \right) \\
    &= \mi \sin\left(\frac{\theta}{2}\right)\cos\left(\frac{\theta}{2}\right) \me^{\mi\phi/2}\me^{-\mi\phi/2} + (-\mi) \cos\left(\frac{\theta}{2}\right)\sin\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2}\me^{\mi\phi/2} \\
    &= \mi \sin\left(\frac{\theta}{2}\right)\cos\left(\frac{\theta}{2}\right) 
    - \mi \cos\left(\frac{\theta}{2}\right)\sin\left(\frac{\theta}{2}\right) \\
    &= 0
    \end{aligned}
\end{equation}
This confirms that antipodal states are orthogonal, as expected. For example, $\ket{\bm{n}=\hat{z}} = \ket{\uparrow}$ is orthogonal to $\ket{\bm{n}=-\hat{z}} = \ket{\downarrow}$.

\subsubsection{Distinction Between \texorpdfstring{$\ket{-\bm{n}}$}{ket(-n)} and \texorpdfstring{$-\ket{\bm{n}}$}{-ket(n)}}

It is a common point of confusion to mistake the antipodal state $\ket{-\bm{n}}$ for the state $-\ket{\bm{n}}$. We must justify that, in general, $\ket{-\bm{n}} \neq -\ket{\bm{n}}$.

From our derivation in the previous section, the antipodal state is:
\begin{equation}
    \ket{-\bm{n}} = \mi \sin\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2} \ket{\uparrow} - \mi \cos\left(\frac{\theta}{2}\right) \me^{\mi\phi/2} \ket{\downarrow}
\end{equation}
In contrast, the state $-\ket{\bm{n}}$ is:
\begin{equation}
    -\ket{\bm{n}} = -\cos\left(\frac{\theta}{2}\right) \me^{-\mi\phi/2} \ket{\uparrow} - \sin\left(\frac{\theta}{2}\right) \me^{\mi\phi/2} \ket{\downarrow}
\end{equation}
By simple inspection, these two state vectors are clearly not identical. They are, in fact, orthogonal to each other, as we just proved $\braket{-\bm{n}}{\bm{n}}=0$. If $\ket{-\bm{n}}$ were equal to $-\ket{\bm{n}}$, then we would have $\braket{-\bm{n}}{\bm{n}} = \braket{-\bm{n}}{-(-\bm{n})} = -1 \cdot \braket{-\bm{n}}{-\bm{n}} = -1$, which contradicts our result of $0$ (unless the state is null, which is not the case).

The state $\ket{-\bm{n}}$ represents a spin pointing in the \textit{opposite direction} (e.g., spin down), while $-\ket{\bm{n}}$ represents the \textit{same physical state} as $\ket{\bm{n}}$ but with a phase shift of $\mpi$ (since $\me^{\mi\mpi} = -1$).

\subsection{Completeness Relation}
Despite being over-complete, the spin coherent states provide a resolution of the identity operator $\opI$.

Let's call the integral $J = \int \mathrm{d}\Omega \, \ketbra{\bm{n}}{\bm{n}} = \int_0^{2\mpi} \md\phi \int_0^{\mpi} \sin\theta \, \md\theta \, \ketbra{\bm{n}}{\bm{n}}$.

\textbf{1. Integrate over $\phi$:}
The off-diagonal terms depend on $\me^{\pm\mi\phi}$.
\begin{equation}
    \int_0^{2\mpi} \me^{\pm\mi\phi} \, \md\phi = 0
\end{equation}
The diagonal terms are independent of $\phi$.
\begin{equation}
    \int_0^{2\mpi} 1 \, \md\phi = 2\mpi
\end{equation}
After integrating over $\phi$, the matrix $J$ becomes diagonal:
\begin{equation}
    J = \int_0^{\mpi} \sin\theta \, \md\theta
    \begin{pmatrix}
    2\mpi \cos^2(\theta/2) & 0 \\
    0 & 2\mpi \sin^2(\theta/2)
    \end{pmatrix}
\end{equation}

\textbf{2. Integrate over $\theta$:}
Both integrals evaluate to $2\mpi$. Thus, the full integral is:
\begin{equation}
    J = \int \mathrm{d}\Omega \, \ketbra{\bm{n}}{\bm{n}} = \begin{pmatrix} 2\mpi & 0 \\ 0 & 2\mpi \end{pmatrix} = 2\mpi \, \opI
\end{equation}
Dividing by $2\mpi$, we arrive at the completeness relation:
\begin{equation}
    \frac{1}{2\mpi} \int \mathrm{d}\Omega \, \ketbra{\bm{n}}{\bm{n}} = \opI
\end{equation}
This relation is the foundation for the coherent-state path integral. It allows us to insert the identity operator at infinitesimally small time steps, $t_j$, as an integral over the Bloch sphere: $\opI = \int \frac{\mathrm{d}\Omega_j}{2\mpi} \ketbra{\bm{n}_j}{\bm{n}_j}$. Summing over all paths becomes an integral over all $\bm{n}_j$ at all times $t_j$.

\section{Coherent-state path integral for spin}

Consider the quantum amplitude ($\hbar=1$):
\begin{equation}
\langle n_f | \mathrm{e}^{-\mathrm{i}\hat{H}(t_f-t_i)} |n_i\rangle \xrightarrow{\mathrm{i}(t_f-t_i) \rightarrow T} \langle n_f | \mathrm{e}^{-\hat{H}T} |n_i\rangle
\end{equation}

First, consider $\hat{H}$ that is an isolated spin
we divide the total time interval $T$ into $N$ small slices of
duration $\Delta t = \frac{T}{N}$. In the limit $N \to \infty$ and $\Delta t \to 0$, the time evolution
operator can be written as a product of infinitesimal operators:
\begin{equation}
\mathrm{e}^{-\mathrm{i}\hat{H}T} = \left( \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} \right)^N
\end{equation}

The amplitude is the:
\begin{equation}
\langle n_f | \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} \dots \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} |n_i\rangle
\end{equation}

We now insert the resolution of identity operator: let's label our
initial state as $|n_0\rangle=|n_i\rangle$ and final state as $|n_N\rangle=|n_f\rangle$
\begin{equation}
\begin{aligned}
K &= \langle n_N | \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} \cdot \left( \int \frac{\mathrm{d}\bm{n}_{N-1}}{2\pi} |n_{N-1}\rangle\langle n_{N-1}| \right) \cdot \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} \dots \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} |n_0\rangle \\
&= \int \left( \prod_{l=1}^{N-1} \frac{\mathrm{d}\bm{n}_l}{2\pi} \right) \cdot \left( \prod_{l=1}^N \langle n_l | \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} | n_{l-1}\rangle \right)
\end{aligned}
\end{equation}

Since $\Delta t$ is small, we can expand the exponential to first order:
\begin{equation}
\mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} \approx \hat{\mathbb{I}} - \mathrm{i}\hat{H}\Delta t
\end{equation}
The matrix element becomes:
\begin{equation}
\begin{aligned}
\langle n_l | \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} | n_{l-1}\rangle &= \langle n_l | \hat{\mathbb{I}} - \mathrm{i}\hat{H}\Delta t | n_{l-1}\rangle \\
&= \langle n_l | n_{l-1}\rangle - \mathrm{i} \Delta t \langle n_l | \hat{H} | n_{l-1}\rangle
\end{aligned}
\end{equation}

let's represent the state at time $t_l$ as a small deviation
from the state at $t_{l-1}$
\begin{equation}
|n_l\rangle \approx |n_{l-1}\rangle + \delta|n_{l-1}\rangle = |n_{l-1}\rangle + \frac{\mathrm{d}|n(t)\rangle}{\mathrm{d}t}\Big|_{t=t_{l-1}} \cdot \Delta t
\end{equation}

The overlap is then:
\begin{equation}
\begin{aligned}
\langle n_l | n_{l-1}\rangle &\approx \langle n_{l-1} | n_{l-1}\rangle + \left( \frac{\mathrm{d}\langle n(t)|}{\mathrm{d}t}\Big|_{t=t_{l-1}} \right) |n_{l-1}\rangle \Delta t \\
&= 1 + \left( \frac{\mathrm{d}\langle n_l|}{\mathrm{d}t}\Big|_{t=t_{l-1}} \right) |n_{l-1}\rangle \cdot \Delta t
\end{aligned}
\end{equation}

This can be written in more suggestive exponential form for small $\Delta t$:
\begin{equation}
\langle n_l | n_{l-1}\rangle \approx \mathrm{e}^{\langle \dot{n}_{l-1} | n_{l-1}\rangle \cdot \Delta t}
\end{equation}
where, $\langle \dot{n}_{l-1}| = \frac{\mathrm{d}\langle n(t)|}{\mathrm{d}t}\Big|_{t=t_{l-1}}$

By the way, from the equation:
\begin{equation}
\frac{\mathrm{d}}{\mathrm{d}t}\langle n_l | n_l\rangle = \left( \frac{\mathrm{d}}{\mathrm{d}t}\langle n_l| \right) |n_l\rangle + \langle n_l | \left( \frac{\mathrm{d}}{\mathrm{d}t}|n_l\rangle \right) = 0
\end{equation}

we can get:
\begin{equation}
\begin{aligned}
\langle \dot{n}_l | n_l\rangle &= - \langle n_l | \dot{n}_l\rangle \\
&= - \langle \dot{n}_l | n_l\rangle^*
\end{aligned}
\end{equation}
So $\langle \dot{n}_l | n_l\rangle$ is purely imaginary

Because we only retain first-order small quantities, so the
second term of matrix element becomes:
\begin{equation}
\begin{aligned}
-\mathrm{i}\Delta t \langle n_l | \hat{H} | n_{l-1}\rangle &\approx -\mathrm{i}\Delta t (\langle n_{l-1}| + \langle \dot{n}_{l-1}|\Delta t) \hat{H} |n_{l-1}\rangle \\
&= -\mathrm{i} \langle n_{l-1} | \hat{H} | n_{l-1}\rangle \Delta t + O(\Delta t^2) \\
&\approx -\mathrm{i} \langle n_{l-1} | \hat{H} | n_{l-1}\rangle \Delta t
\end{aligned}
\end{equation}
Putting everything back into the matrix elements:
\begin{equation}
\begin{aligned}
\langle n_l | \mathrm{e}^{-\mathrm{i}\hat{H}\Delta t} | n_{l-1}\rangle &= 1 + (\langle \dot{n}_{l-1} | n_{l-1}\rangle - \mathrm{i} \langle n_{l-1} | \hat{H} | n_{l-1}\rangle) \Delta t \\
&\approx \exp \left[ (\langle \dot{n}_{l-1} | n_{l-1}\rangle - \mathrm{i} \langle n_{l-1} | \hat{H} | n_{l-1}\rangle) \Delta t \right]
\end{aligned}
\end{equation}

So the amplitude $K$ is:
\begin{equation}
K = \int \left( \prod_{l=1}^{N-1} \frac{\mathrm{d}\bm{n}_l}{2\pi} \right) \cdot \mathrm{e}^{\sum_{l=1}^N (\langle \dot{n}_{l-1} | n_{l-1}\rangle - \mathrm{i} \langle n_{l-1} | \hat{H} | n_{l-1}\rangle) \Delta t}
\end{equation}

The product of integrals over all intermediate states becomes the formal path integral measure $D[n(t)]$ :

\begin{equation}
\begin{aligned}
K &= \int D[n(t)] \exp \left\{ \mathrm{i} \int_{t_i}^{t_f} [-\mathrm{i} \langle \dot{n}(t)|n(t)\rangle - \langle n(t)|\hat{H}|n(t)\rangle] \mathrm{d}t \right\} \\
&= \int D[n(t)] \exp \{ \mathrm{i} S[n(t)] \}
\end{aligned}
\end{equation}

Because of $-\langle \dot{n}(t)|n(t)\rangle = \langle n(t)|\dot{n}(t)\rangle$, $S[n(t)]$ can be written as:

\begin{equation}
S[n(t)] = \int_{t_i}^{t_f} \mathrm{d}t \left[ \langle n(t)| \mathrm{i} \frac{\mathrm{d}}{\mathrm{d}t} |n(t)\rangle - \langle n(t)|\hat{H}|n(t)\rangle \right]
\end{equation}

where, $\hbar=1$.

\input{Tikz/BlochSpherePaths.tex}

\subsection{Geometrical meaning of the Geometric term}

We consider a special system whose Hamiltonian is zero; So the dynamical term vanishes:
\begin{equation}
\langle n(t)|\hat{H}|n(t)\rangle = 0
\end{equation}
and the action simplifies and contains only the geometric term:
\begin{equation}
S[n(t)] = \int_{t_i}^{t_f} \mathrm{d}t \cdot \mathrm{i} \langle n(t)| \frac{\mathrm{d}}{\mathrm{d}t} |n(t)\rangle
\end{equation}

Again, we choose the gauge choice $\delta=\frac{\varphi}{2}$ , such that the North Pole is regular:
\begin{equation}
|n(t)\rangle = \cos\frac{\theta(t)}{2} |\uparrow\rangle + \mathrm{e}^{\mathrm{i}\varphi(t)} \sin\frac{\theta(t)}{2} |\downarrow\rangle
\end{equation}

So the geometric term is:
\begin{equation}
\begin{aligned}
\langle n(t)| \frac{\mathrm{d}}{\mathrm{d}t} |n(t)\rangle &= \cos\frac{\theta}{2} (-\frac{1}{2}\sin\frac{\theta}{2}\cdot\dot{\theta}) + \mathrm{e}^{-\mathrm{i}\varphi} \sin\frac{\theta}{2} \cdot (\mathrm{i}\dot{\varphi}\mathrm{e}^{\mathrm{i}\varphi}\sin\frac{\theta}{2} + \mathrm{e}^{\mathrm{i}\varphi}\frac{1}{2}\cos\frac{\theta}{2}\cdot\dot{\theta}) \\
&= \mathrm{i} \dot{\varphi} \sin^2\frac{\theta}{2} \\
&= \mathrm{i} \dot{\varphi} \frac{(1-\cos\theta)}{2}
\end{aligned}
\end{equation}

So the action is:
\begin{equation}
\begin{aligned}
S[n(t)] &= -\frac{1}{2} \int_{t_i}^{t_f} \mathrm{d}t \cdot \dot{\varphi} (1-\cos\theta) \\
&= -\frac{1}{2} \int_{\varphi(t_i)}^{\varphi(t_f)} (1-\cos\theta(\varphi)) \mathrm{d}\varphi
\end{aligned}
\end{equation}

Because $\theta$ and $\varphi$ are the functions depending on $t$. we can express $\theta$ as a function of $\varphi$

We can rewrite the function $1-\cos\theta(\varphi)$ as a integral:
\begin{equation}
1-\cos\theta(\varphi) = \int_0^{\theta(\varphi)} \mathrm{d}\theta \cdot \sin\theta
\end{equation}

So the action can be written as a area integral:
\begin{equation}
    \colorboxed{
    \begin{aligned}
    S[n(t)] &= -\frac{1}{2} \int_{\varphi_i}^{\varphi_f} \mathrm{d}\varphi \int_0^{\theta(\varphi)} \sin\theta \mathrm{d}\theta \\
    &= -\frac{1}{2} \iint_{\partial A_{\gamma}} \mathrm{d}\Omega \\
    &= -\frac{1}{2} A_{\gamma} \quad (\text{Because the radius is } 1 \text{ and } A_{\gamma} = R^2 \Omega)
    \end{aligned}
    }
\end{equation}
where $\gamma$ is the path from $|n(t_i)\rangle=|n_i\rangle$ to $|n(t_f)\rangle=|n_f\rangle$
and $A_{\gamma}$ is area enclosed by three points on the sphere ($|\uparrow\rangle, |n_i\rangle, |n_f\rangle$). Obviously, $A_{\gamma}$ depends on where the North pole is defined, which is kind of "gauge-dependence".
If we multiply $|n(t)\rangle$ by a overall phase:
\begin{equation}
|n(t)\rangle \longrightarrow \mathrm{e}^{\mathrm{i}\delta} |n(t)\rangle
\end{equation}

$S[n(t)]$ will be added an other term:
\begin{equation}
\begin{aligned}
S'[n(t)] &= \mathrm{i} \int_{t_i}^{t_f} \mathrm{d}t \langle n(t)| ( \mathrm{e}^{\mathrm{i}\delta} \frac{\mathrm{d}}{\mathrm{d}t} |n(t)\rangle + \mathrm{i}\dot{\delta} \mathrm{e}^{\mathrm{i}\delta} |n(t)\rangle ) \\
&= S[n(t)] + (-1) \int_{t_i}^{t_f} \mathrm{d}t \dot{\delta} \\
&= S[n(t)] + (-1) (\delta(t_f) - \delta(t_i))
\end{aligned}
\end{equation}
To be more precise, $\delta$ is a function of $\theta$ and $\varphi$:
\begin{equation}
\delta(t_f) - \delta(t_i) = \delta(\theta_f, \varphi_f) - \delta(\theta_i, \varphi_i)
\end{equation}

So if we choose different gauge, $\Delta\delta$ is different
and $S[n(t)]$ is gauge-dependence. 

\input{Tikz/IntegralPath.tex}

But if weconsider a close path ($n_f=n_i$), the $S[n(t)]$ is
gauge-independent:
\begin{equation}
\begin{aligned}
\Delta\delta &= \delta(\theta_f, \varphi_f) - \delta(\theta_i, \varphi_i) \\
&= 2\pi \cdot N \quad (N \in \mathbb{Z})
\end{aligned}
\end{equation}
The reason as follow: To ensure that the transformed
basis is single-valued, which
\begin{equation}
\mathrm{e}^{\mathrm{i}\delta_i} |n_i\rangle \xrightarrow{\text{close path}} \mathrm{e}^{\mathrm{i}\delta_f} |n_f\rangle = \mathrm{e}^{\mathrm{i}\delta_i} |n_i\rangle
\end{equation}
and
\begin{equation}
\mathrm{e}^{\mathrm{i}\delta_f} |n_i\rangle = \mathrm{e}^{\mathrm{i}\delta_i} |n_i\rangle
\end{equation}
This implies that the value of $\delta$ can change by
integer multiples of $2\pi$ after completing a full cycle:
\begin{equation}
\delta_f - \delta_i = 2\pi \cdot N \quad (N \in \mathbb{Z}).
\end{equation}
So for a close path, $S[n(t)]$, to be more precise,
the geometric phase factor:
\begin{equation}
\mathrm{e}^{\mathrm{i}S'} = \mathrm{e}^{\mathrm{i}S+\mathrm{i}\Delta\delta} = \mathrm{e}^{\mathrm{i}S+2\pi N \cdot \mathrm{i}} = \mathrm{e}^{\mathrm{i}S}
\end{equation}
remains unchanged, or that the geometric phase $S$ is
invariant under the model modulo $2\pi$ operation.

\input{Tikz/IntegralClosePath.tex}

\subsection{Wess-Zumino term and Witten extension}

The Wess-Zumino term is $S_{\mathrm{WZ}}$, which satisfies:
\begin{equation}
S = - \frac{1}{2} \iint \mathrm{d}\Omega = \frac{1}{2} S_{\mathrm{WZ}} = S_{\mathrm{spin}} \cdot S_{\mathrm{WZ}}.
\end{equation}

It means that:
\begin{equation}
S_{\mathrm{WZ}} = -\iint_{A_{\gamma}} \mathrm{d}\Omega = - \iint_{A_{\gamma}} \bm{n} \cdot \mathrm{d}\bm{S}
\end{equation}

where $\bm{n}$ can regrad as the monopole's field strength whose charge is 1. 

\input{Tikz/monopole.tex}

Because $\bm{n}$ locates on the surface of the sphere, 
it can be the function of two parameter $t$ and $k$, 
which form an orthonormal basis on the sphere(see figure \ref{fig:sphere_differential}). 
So $\mathrm{d}\bm{S}$ can be written as:

\begin{equation}
\begin{aligned}
\mathrm{d}\bm{S} &= \mathrm{d}\bm{n}(t + \mathrm{d}t, \kappa) \times \mathrm{d}\bm{n}(t, \kappa+\mathrm{d}\kappa) \\
&= (\frac{\partial \bm{n}}{\partial t} \cdot \mathrm{d}t) \times (\frac{\partial \bm{n}}{\partial \kappa} \cdot \mathrm{d}\kappa) \\
&= (\frac{\partial \bm{n}}{\partial t} \times \frac{\partial \bm{n}}{\partial \kappa}) \mathrm{d}t \cdot \mathrm{d}\kappa.
\end{aligned}
\end{equation}

\input{Tikz/SphereDifferential.tex}

So the Wess-Zumion term have another expression that is broadly used:

\begin{theorem}[Wess-Zumino term]

    \begin{equation}
    S_{\mathrm{WZ}} = -\int_{0}^{1} \mathrm{d}\kappa \int_{t_i}^{t_f} \mathrm{d}t \cdot \bm{n}(t, \kappa) \cdot \left[ \frac{\partial \bm{n}}{\partial t} \times \frac{\partial \bm{n}}{\partial \kappa} \right]
    \end{equation}

    where $\kappa$ is an auxiliary parameter, in order to extend $\bm{n}(t)$ to $\bm{n}(t, \kappa)$ with:
    \begin{equation}
    \begin{cases}
    \bm{n}(t, 0) = \bm{n}(t) \\
    \bm{n}(t, 1) = \bm{n}_0 (\text{North Pole}) \\
    \bm{n}(t_i, \kappa) = \bm{n}(t_f, \kappa) \ (\text{Closed Path})
    \end{cases}
    \end{equation}

\end{theorem}

\subsection{Emergence of U(1) gauge degrees of freedom}

\begin{equation}
S = \mathrm{i} \int_{\gamma} \mathrm{d}t \langle \bm{n}(t) | \partial_t | \bm{n}(t) \rangle = \mathrm{i} \int_{\gamma} \mathrm{d}t \, \bm{z}^{\dagger} \cdot \partial_t \bm{z}
\end{equation}

where, $\bm{z} = \begin{pmatrix} z_1 \\ z_2 \end{pmatrix} = |\bm{n}\rangle$.
Using the chain rule where $\bm{x} = (x_1, x_2)$ are coordinates on Bloch Sphere:
\begin{equation}
S = \mathrm{i} \int_{\gamma} \bm{z}^{\dagger} \frac{\partial \bm{z}}{\partial \bm{x}} \cdot \frac{\mathrm{d}\bm{x}}{\mathrm{d}t} \cdot \mathrm{d}t
\end{equation}

Define the Gauge Potential $\bm{\mathcal{A}}$ as:
\begin{equation}
    \colorboxed{
    \bm{\mathcal{A}} = \mathrm{i} \bm{z}^{\dagger} \cdot \frac{\partial \bm{z}}{\partial \bm{x}}
    }
\end{equation}

Therefore, $S$ can be written as:
\begin{equation}
S = \int_{\gamma} \bm{\mathcal{A}} \cdot \mathrm{d}\bm{l}
\end{equation}
where $\mathrm{d}\bm{l} = \frac{\mathrm{d}\bm{x}}{\mathrm{d}t} \cdot \mathrm{d}t = \bm{v} \cdot \mathrm{d}t$ is the differential of path $\gamma$.

We apply a local gauge transformation 
where the state $z$ picks up a position-dependent phase $\phi(\bm{x})$:
\begin{equation}
z \rightarrow z \cdot \mathrm{e}^{\mathrm{i}\phi}
\end{equation}

So the Gauge Potential change as:
\begin{equation}
    \colorboxed{
    \begin{aligned}
    \bm{\mathcal{A}}' &= \mathrm{i} \bm{z}^{\dagger} \mathrm{e}^{-\mathrm{i}\phi} (\mathrm{e}^{\mathrm{i}\phi} \frac{\partial \bm{z}}{\partial \bm{x}} + \bm{z} \mathrm{e}^{\mathrm{i}\phi} \nabla \phi) \\
    &= \bm{\mathcal{A}} + \nabla \phi
    \end{aligned}
    }
\end{equation}

So the potential $\bm{\mathcal{A}}$ is not gauge-invariant.

From what we have discussed above, we can know that:
A single spin $\xLeftrightarrow{\text{equivalent to}}$ A spherical Landau problem with a monopole.

Because of : (for closed path)
\begin{equation}
S = \oint_{\gamma} \bm{\mathcal{A}} \cdot \mathrm{d}\bm{l}
\end{equation}

where $\bm{\mathcal{A}}$ can be regard as a magnetic potential that is responsible for a ``magnetic monopole'' at the center of Bloch Ball. Therefore, $S_{\mathrm{WZ}}$ can be regarded as a quantum mechanical problem: a charge particle with sufficiently small mass is confined on the unit sphere, and feels electromagnetic field generated by the ``magnetic monopole'' at the center of the ball.

\input{Tikz/DiracString.tex}

\subsection{Conclusion.}

In the previous discussion, we have obtained path integral formalism of a single spin-$\frac{1}{2}$ ($S=\frac{1}{2}$).

\begin{theorem}[Action for a generic spin-$S$]
    For a generic spin-$S$ ($S=\frac{1}{2}, 1, \frac{3}{2}, 2, \dots$), the action is given by:
    \begin{equation}
    \begin{cases}
    S[\bm{n}(t)] = S_{\mathrm{spin}} \cdot S_{\mathrm{WZ}}[\bm{n}(t)] \quad (\hat{H}=0) \\
    \langle \bm{n} | \bm{S} | \bm{n} \rangle = S_{\mathrm{spin}} \cdot \bm{n}
    \end{cases}
    \end{equation}

\end{theorem}

\chapter{The path integral for many-spin system}

\section{General theory}

Consider a spin system in a $d$-dimensional lattice which is called Heisenberg Model(figure \ref{fig:HeisenbergModel}):
\begin{equation}
    \colorboxed{
    \hat{H} = J \cdot \sum_{\langle i,j \rangle} \hat{\bm{S}}_i \cdot \hat{\bm{S}}_j
    }
\end{equation}
where $J$ is the exchange coupling and $\hat{\bm{S}}$ is quantum spin operators. 
The $\langle i,j \rangle$ denotes a summation over nearest-neighbor pairs.

\input{Tikz/HeisenbergModel.tex}

The partition function of the spin system is:
\begin{equation}
\begin{aligned}
Z &= \mathrm{Tr} \mathrm{e}^{-\beta \hat{H}} \\
&= \int \mathrm{d}\bm{n}_0 \cdot \langle \bm{n}_0 | \mathrm{e}^{-\beta \hat{H}} | \bm{n}_0 \rangle
\end{aligned}
\end{equation}
where
$|\bm{n}_0 \rangle = \bigotimes_{i=1} |\bm{n}_0^i \rangle$ is the tensor product of all the state on the lattice.

In the previous chapters, we have seen that we can change real time $t$ to imaginary time $\tau$:
\begin{equation}
\langle n_f | \mathrm{e}^{-\mathrm{i}\hat{H}(t_f-t_i)} | n_i \rangle \xrightarrow{\mathrm{i}(t_f-t_i) \to \tau} \langle n_f | \mathrm{e}^{-\hat{H}\tau} | n_i \rangle
\end{equation}
In this version, propagator $K$ can be written as (for closed path):
\begin{equation}
K = \int D[\bm{n}(t)] \mathrm{e}^{-S_E}
\end{equation}
where, $S_E = -\mathrm{i} S S_{WZ} = \mathrm{i} \cdot S \cdot A_\gamma$ for $\hat{H}=0$ and
$S_E = -\mathrm{i} S \cdot S_{WZ} + \int_{\tau_i}^{\tau_f} \langle \bm{n}(\tau) | \hat{H} | \bm{n}(\tau) \rangle \mathrm{d}\tau$ for $\hat{H} \neq 0$.

Because the diagonal element of partition function and propagator have the same mathematical form, so we can use the same method to solve the diagonal elements.

let's make $\Delta \tau$ equal to $\frac{\beta}{N}$ ($N$ is the slice number) 
whose mean is that $\beta$ play a same role in the diagonal liking $\tau$ in the propagator
$(\tau_i \to \tau_f \Longrightarrow 0 \to \beta)$.

But in many-spin system, the identity operator for the entire system is the tensor product of the identities for each site:
\begin{equation}
\hat{\mathbb{I}}_{total} = \bigotimes_{i=1} \hat{\mathbb{I}}_i = \int \left( \prod_{i=1} \mathrm{d}^2 \bm{n}_i \right) | \bm{n}_1 \cdots \bm{n}_N \rangle \langle \bm{n}_1 \cdots \bm{n}_N |
\end{equation}
So the diagonal can be written as a mathematical form like propagator:
\begin{equation}
\langle \bm{n}_0 | \mathrm{e}^{-\beta \hat{H}} | \bm{n}_0 \rangle = \int D(\bm{n}) \cdot \mathrm{e}^{-S_E}
\end{equation}
where $D(\bm{n}) = \prod_i \prod_l \mathrm{d}^2 \bm{n}_i^l$. 

Because diagonal likes the propagator with close path ($\langle \bm{n}_0 | \mathrm{e}^{-\beta \hat{H}} | \bm{n}_0 \rangle$ and not $\langle \bm{n}_i | \mathrm{e}^{-\beta \hat{H}} | \bm{n}_j \rangle$ for $i \neq j$), $S_E$ can be written as:
\begin{equation}
S_E = \int_0^\beta \mathrm{d}\tau \langle \bm{n} | \frac{\partial}{\partial \tau} | \bm{n} \rangle + \int_0^\beta \mathrm{d}\tau \langle \bm{n} | \hat{H} | \bm{n} \rangle
\end{equation}

For the energy term:
\begin{equation}
\begin{aligned}
S_e &= \int_0^\beta \mathrm{d}\tau \langle \bm{n} | \hat{H} | \bm{n} \rangle \\
&= \int_0^\beta \mathrm{d}\tau J \sum_{\langle i,j \rangle} (\otimes \langle \bm{n} |) \hat{\bm{S}}_i 
\cdot \hat{\bm{S}}_j (\otimes | \bm{n} \rangle)
\end{aligned}
\end{equation}
Use the formula:
\begin{equation}
\langle \bm{n} | \bm{S} | \bm{n} \rangle = S_{spin} \bm{n}
\end{equation}
we can get:
\begin{equation}
S_e = \int_0^\beta J \sum_{\langle i,j \rangle} S_{spin}^2 \bm{n}_i(\tau) \bm{n}_j(\tau)
\end{equation}

For the geometric term:
\begin{equation}
\begin{aligned}
S_g &= \int_0^\beta \mathrm{d}\tau (\otimes \langle \bm{n} |) \frac{\partial}{\partial \tau} (\otimes | \bm{n} \rangle) \\
&= \int_0^\beta (\otimes \langle \bm{n} |) [\otimes (| \bm{n} \rangle + \mathrm{d} | \bm{n} \rangle) - \otimes | \bm{n} \rangle ]
\end{aligned}
\end{equation}

Let's retain the first order term:
\begin{equation}
\begin{aligned}
S_g &= \int_0^\beta \dots (\otimes \langle \bm{n} |) [\otimes | \bm{n} \rangle + \sum_i (\bigotimes_{j \neq i} | \bm{n}_j \rangle) \mathrm{d} | \bm{n}_i \rangle ) - \otimes | \bm{n} \rangle] \\
&= \sum_i \int_0^\beta (\otimes \langle \bm{n} |) (\bigotimes_{j \neq i} | \bm{n}_j \rangle | \mathrm{d} \bm{n}_i \rangle)
\end{aligned}
\end{equation}
because of $\langle \bm{n}_i | \bm{n}_i \rangle = 1$, so:
\begin{equation}
\begin{aligned}
S_g &= \sum_i \int_0^\beta \langle \bm{n}_i | \mathrm{d} \bm{n}_i \rangle \\
&= \sum_i -\mathrm{i} S \cdot S_{WZ} [\bm{n}_i] \\
&= -\mathrm{i} S \sum_i S_{WZ} [\bm{n}_i]
\end{aligned}
\end{equation}

let's go back to real time ($\tau \to \mathrm{i} t$):
\begin{equation}
    \begin{aligned}
-S_E \to \frac{\mathrm{i}}{\hbar} S_M \\
\Rightarrow S_M &= \hbar S \cdot \sum_i S_{WZ}[\bm{n}_i] - S^2 \int_0^\beta \mathrm{d}t \cdot \sum_{\langle \bm{n}_i, \bm{n}_j \rangle} J \bm{n}_i \cdot \bm{n}_j \\
\frac{\mathrm{i} S_M}{\hbar} &= S \{ \sum_i S_{WZ} [\bm{n}_i] \} - \frac{S^2}{\hbar} \{ \int_0^\beta \mathrm{d}t \sum_{\langle \bm{n}_i, \bm{n}_j \rangle} J \cdot \bm{n}_i \cdot \bm{n}_j \}
\end{aligned}
\end{equation}

So $\{ \sum_i S_{WZ} [\bm{n}_i] \}$ and $\{ \int_0^\beta \mathrm{d}t \sum_{\langle i,j \rangle} J \cdot \bm{n}_i \cdot \bm{n}_j \}$ can be regard as the phase term of action ($\mathrm{e}^{\frac{\mathrm{i}}{\hbar} \theta}$). Therefore, $S$ and $\frac{S^2}{\hbar}$ play the role of $\hbar$ in simple action.
Here, if $S$ is very large, we called it Large-$S$ limit ($\hbar \ll 1$, so $\frac{1}{\hbar} \approx S \gg 1$).
This is a semi-classical limit.

\section{Quantum Ferromagnetism}

let's consider a ferromagnetism system whose $J$ equal to $-|J|$. So the action is:
\begin{equation}
S_M = S \sum_i S_{WZ} [\bm{n}_i] + |J|S^2 \sum_{\langle i,j \rangle} \int_0^\beta \mathrm{d}t \bm{n}_i \cdot \bm{n}_j
\end{equation}

Because $|\bm{n}|^2 = 1$, so we can rewrite the term $\bm{n}_i \cdot \bm{n}_j$ as:
\begin{equation}
\begin{aligned}
-\bm{n}_i \cdot \bm{n}_j &= \frac{1}{2} (|\bm{n}_i|^2 -2 \bm{n}_i \cdot \bm{n}_j + |\bm{n}_j|^2) - 1 \\
&= \frac{1}{2} (\bm{n}_i - \bm{n}_j)^2 - 1
\end{aligned}
\end{equation}

So the energy term is:
\begin{equation}
S_e = - \frac{|J|S^2}{2} \sum_{\langle i,j \rangle} \int_0^\beta \mathrm{d}t (\bm{n}_i - \bm{n}_j)^2 + |J|S^2 \sum_{\langle i,j \rangle} \int_0^\beta \mathrm{d}t
\end{equation}

The second term of $S_e$ is the constant term (global phase), so we can drop it and $S_M$ can be written as:
\begin{equation}
S_M = S \sum_i S_{WZ} [\bm{n}_i] - \frac{|J|S^2}{2} \sum_{\langle i,j \rangle} \int_0^\beta \mathrm{d}t (\bm{n}_i - \bm{n}_j)^2
\end{equation}

Next, we take the continuum limit where the lattice sums become integrals
\begin{equation}
\sum_i \to \int \frac{\mathrm{d}^d x}{a_0^d}
\end{equation}
where $a_0$ is the lattice spacing and finite differences become gradients:
\begin{equation}
\begin{aligned}
\sum_j (\bm{n}_i - \bm{n}_j)^2 &= a_0^2 \sum_j (\frac{\Delta \bm{n}_j}{\Delta x_j})^2 \\
&= a_0^2 (\nabla \bm{n})^2
\end{aligned}
\end{equation}
where $\nabla \bm{n} = (\frac{\partial \bm{n}}{\partial x}, \dots)$ and not $\nabla \bm{n} = (\frac{\partial n_x}{\partial x}, \quad )$

So the continuum action is:
\begin{equation}
\begin{aligned}
S_M &= \int \frac{\mathrm{d}^d x}{a_0^d} S \cdot S_{WZ} [\bm{n}] - \frac{|J|S^2}{2} \int \frac{\mathrm{d}^d x}{a_0^d} \mathrm{d}t \, a_0^2 (\nabla \bm{n})^2 \\
&= \frac{S}{a_0^d} \int \mathrm{d}^d x S_{WZ}[\bm{n}] - \frac{|J|S^2}{2a_0^{d-2}} \int \mathrm{d}^d x \mathrm{d}t (\nabla \bm{n})^2
\end{aligned}
\end{equation}

We want to find the classical path that minimizes the action. 
However, simply varying $S_M$ is incorrect because the variable $\bm{n}$ is not free; 
It is constrained to the surface of a sphere:
\begin{equation}
\bm{n}^2 - 1 = 0
\end{equation}
To handle this, we introduce a Lagrange multiplier field $\lambda$. So the total action becomes:
\begin{equation}
S_{\mathrm{tot}} = S_M + \int \mathrm{d}^d x \mathrm{d}t \cdot \frac{\lambda}{2}(\bm{n}^2 - 1)
\end{equation}
Now, we can safely solve the variation equation below:
\begin{equation}
\delta S_{\mathrm{tot}} = 0
\end{equation}
We first need to variation of the Wess-Zumion term $\delta S_{\mathrm{WZ}}$. 
Geometrically, 
the $S_{\mathrm{WZ}}$ is proportional to the area swept out by the spin vector on the unit sphere
(see figure \ref{fig:swz_variation}).

From the figure \ref{fig:swz_variation}, 
we can see that the variation of this area element $\delta(\Delta A)$ 
with respect to a small change in path $\delta \bm{n}$ is given by:
\begin{equation}
    \colorboxed{
    \bm{n} \cdot \delta(\Delta A) = \delta \bm{n} \times (\frac{\partial \bm{n}}{\partial t}) \mathrm{d}t
    }
\end{equation}

\input{Tikz/SwzVariationDiagram.tex}

We product $\bm{n}$ on the both sides of the equation :
\begin{equation}
\begin{aligned}
\delta(\Delta A) &= \bm{n} (\delta \bm{n} \times \frac{\partial \bm{n}}{\partial t}) \mathrm{d}t \\
&= - \delta \bm{n} (\bm{n} \times \frac{\partial \bm{n}}{\partial t}) \mathrm{d}t.
\end{aligned}
\end{equation}

Therefore, the variation of the Wess-Zumion part of the action is:
\begin{equation}
\delta (\int \mathrm{d}^d x S_{\mathrm{WZ}}(\bm{n})) 
= \frac{S}{a_0^d} \int \mathrm{d}t \mathrm{d}^d x [\delta \bm{n} \cdot (\bm{n} \times \frac{\partial \bm{n}}{\partial t})]
\end{equation}
This implies the functional derivative is:
\begin{equation}
\frac{\delta S_g}{\delta \bm{n}} = \frac{S}{a_0^d} \cdot (\bm{n} \times \frac{\partial \bm{n}}{\partial t})
\end{equation}

Next, we calculate the variation of energy term:
\begin{equation}
\begin{aligned}
\delta [\int \mathrm{d}^d x \mathrm{d}t (\nabla \bm{n})^2] &= \int \mathrm{d}^d x \mathrm{d}t \frac{1}{2} \delta (\frac{\partial \bm{n}}{\partial x_i})^2 \\
&= \int \mathrm{d}^d x \mathrm{d}t \cdot \sum_i \frac{1}{2} \cdot 2 (\frac{\partial \bm{n}}{\partial x_i}) \cdot \delta (\frac{\partial \bm{n}}{\partial x_i})
\end{aligned}
\end{equation}

And we use the partial integration method:
\begin{equation}
\begin{aligned}
    \int d^d x \sum_i^d 2 \left( \frac{\partial \bm{n}}{\partial x_i} \right) \cdot \delta \left( \frac{\partial \bm{n}}{\partial x_i} \right) 
    &\overset{\frac{\partial \bm{n}}{\partial x_i} = \partial_i \bm{n}}{=\joinrel=\joinrel=} 
    2 \int d^d x \sum_i^d (\partial_i \bm{n}) \cdot \partial_i (\delta \bm{n}) \\
    &= 2 \left\{ \left[ \sum_i^d (\partial_i \bm{n}) \cdot \delta \bm{n} \right] \Bigg|_{\bm{n}_0}^{\bm{n}_N = \bm{n}_0}
    - \int d^d x \sum_i^d \delta \bm{n} \cdot \partial_i^2 \bm{n} \right\} \\
    &= -2 \int d^d x (\nabla^2 \bm{n}) \cdot \delta \bm{n}
\end{aligned}
\end{equation}

So the variation of energy term is
\begin{equation}
\frac{\delta S_e}{\delta \bm{n}} = \frac{|J|S^2}{a_0^{d-2}} (\nabla^2 \bm{n})
\end{equation}
Finally, we calculate the variation of $\lambda$ term:
\begin{equation}
\delta \int \mathrm{d}^d x \mathrm{d}t \frac{\lambda}{2}(\bm{n}^2 - 1) = \int \mathrm{d}^d x \mathrm{d}t \cdot \lambda \bm{n} \delta \bm{n}
\end{equation}
So the variation of $\lambda$ term is:
\begin{equation}
\frac{\delta S_\lambda}{\delta \bm{n}} = \lambda \bm{n}
\end{equation}
Now we can get the total action's variation:
\begin{equation}
\delta S_{\mathrm{tot}} = 0 \implies \frac{S}{a_0^d} (\bm{n} \times \frac{\partial \bm{n}}{\partial t}) + \lambda \bm{n} = - \frac{|J|S^2}{a_0^{d-2}} \nabla^2 \bm{n}.
\end{equation}
To find the value of the Lagrange multiplier, take the dot product of the above equation with $\bm{n}$:
\begin{equation}
    \underbrace{ \frac{S}{a_0^d} \bm{n} \cdot \left( \bm{n} \times \frac{\partial \bm{n}}{\partial t} \right) }_{
        \begin{subarray}{l} 
          = \frac{S}{a_0^d} \frac{\partial \bm{n}}{\partial t} (\bm{n} \times \bm{n}) \\ 
          = 0 
        \end{subarray}
      }
      + \lambda \underbrace{ \bm{n} \cdot \bm{n} }_{=1}
      = - \frac{|J| S^2}{a_0^{d-2}} (\bm{n} \cdot \nabla^2 \bm{n})
\end{equation}
Thus:
\begin{equation}
\lambda = - \frac{|J|S^2}{a_0^{d-2}} (\bm{n} \cdot \nabla^2 \bm{n})
\end{equation}
Now, substitute the $\lambda$ back into equation:
\begin{equation}
\frac{S}{a_0^d} \cdot (\bm{n} \times \frac{\partial \bm{n}}{\partial t}) - [\frac{|J|S^2}{a_0^{d-2}} (\bm{n} \cdot \nabla^2 \bm{n})] \bm{n} = - \frac{|J|S^2}{a_0^{d-2}} \nabla^2 \bm{n}
\end{equation}
Rearrange to group the derivative terms on the right:
\begin{equation}
\frac{S}{a_0^d} (\bm{n} \times \frac{\partial \bm{n}}{\partial t}) = - \frac{|J|S^2}{a_0^{d-2}} [\nabla^2 \bm{n} - (\bm{n} \cdot \nabla^2 \bm{n}) \cdot \bm{n}]
\end{equation}
If we look at: $\bm{n} \times (\bm{n} \times \nabla^2 \bm{n})$:
\begin{equation}
\begin{aligned}
\bm{n} \times (\bm{n} \times \nabla^2 \bm{n}) &= \bm{n} \cdot (\bm{n} \cdot \nabla^2 \bm{n}) - \nabla^2 \bm{n} (\bm{n} \cdot \bm{n}) \\
&= \bm{n} (\bm{n} \cdot \nabla^2 \bm{n}) - \nabla^2 \bm{n}.
\end{aligned}
\end{equation}
So,
\begin{equation}
\frac{S}{a_0^d} (\bm{n} \times \partial_t \bm{n}) = \frac{|J|S^2}{a_0^{d-2}} [\bm{n} \times (\bm{n} \times \nabla^2 \bm{n})]
\end{equation}
Simplified to:
\begin{equation}
\bm{n} \times \frac{\partial \bm{n}}{\partial t} = \bm{n} \times [|J| S a_0^2 (\nabla^2 \bm{n})]
\end{equation}
We can get the Landau-Lifshitz equation:
\begin{equation}
    \colorboxed{
    \frac{\partial \bm{n}}{\partial t} = |J| S a_0^2 (\bm{n} \times \nabla^2 \bm{n}).
    }
\end{equation}

From this equation, we can know that the spins move in a precessional fashion with an angular velocity $\bm{\Omega}$ given by:
\begin{equation}
\bm{\Omega} = -|J|S a_0^2 \nabla^2 \bm{n}.
\end{equation}
The Landau-Lifshitz equations can be solved in the linear regime. Let's parametrize $\bm{n}$ by the components:

\begin{equation}
\bm{n} = \begin{pmatrix} \sigma \\ \bm{\pi} \end{pmatrix} \text{ and } \bm{\pi} = \begin{pmatrix} \pi_1 \\ \pi_2 \end{pmatrix}
\end{equation}
where $\sigma$ and $\pi_i (i=1,2)$ satisfy the constraint:
\begin{equation}
\sigma^2 + \bm{\pi}^2 = 1
\end{equation}
If the system is ordered, $\sigma \sim 1$, $|\bm{\pi}|$ is very small, which means that $\bm{\pi}$ is small fluctuation around the direction of $\sigma$.
In this situation, we can treat $\sigma$ as a constant:
\begin{equation}
\begin{cases}
\sigma \approx 1 \\
\nabla^2 \sigma \approx 0
\end{cases}
\end{equation}
Therefore, we can linearize the Landau-Lifshitz equation:
\begin{equation}
\bm{n} \times \nabla^2 \bm{n} = \begin{pmatrix} \pi_1 \nabla^2 \pi_2 - \pi_2 \nabla^2 \pi_1 \\ -\sigma \nabla^2 \pi_2 \\ \sigma \nabla^2 \pi_1 \end{pmatrix}
\end{equation}
and we remain the one order term :
\begin{equation}
\bm{n} \times \nabla^2 \bm{n} = \begin{pmatrix} 0 \\ -\nabla^2 \pi_2 \\ \nabla^2 \pi_1 \end{pmatrix}
\end{equation}
So the linearizing Landau-Lifshitz equation:
\begin{equation}
\begin{cases}
\partial_t \pi_1 = -|J|S a_0^2 \nabla^2 \pi_2 \\
\partial_t \pi_2 = +|J|S a_0^2 \nabla^2 \pi_1
\end{cases}
\end{equation}

We look for plane wave solutions (spin wave) of the term:
\begin{equation}
\pi_j(\bm{x}, t) = \tilde{\pi}_j e^{\mathrm{i}(\bm{p} \cdot \bm{x} - \omega t)}
\end{equation}
taking derivatives this ansatz converts differential operators into algebraic variables:
\begin{equation}
\begin{cases}
\partial_t \to -\mathrm{i}\omega \\
\nabla^2 \to -|\bm{p}|^2
\end{cases}
\end{equation}
Substituting these into the linearized equations:
\begin{equation}
\begin{cases}
-\mathrm{i}\omega \tilde{\pi}_1 = (|J|S a_0^2 |\bm{p}|^2) \tilde{\pi}_2 \\
-\mathrm{i}\omega \tilde{\pi}_2 = -(|J|S a_0^2 |\bm{p}|^2) \tilde{\pi}_1
\end{cases}
\end{equation}
let $A = |J|S a_0^2 p^2$, the system become:
\begin{equation}
\begin{cases}
-\mathrm{i}\omega \tilde{\pi}_1 - A \tilde{\pi}_2 = 0 \\
A \tilde{\pi}_1 - \mathrm{i}\omega \tilde{\pi}_2 = 0
\end{cases}
\end{equation}
for a non-trivial solution $(\tilde{\pi}_1, \tilde{\pi}_2 \neq 0)$, the determinant of the coefficient matrix must be zero:
\begin{equation}
\begin{vmatrix}
-\mathrm{i}\omega & -A \\
A & -\mathrm{i}\omega
\end{vmatrix} = 0
\end{equation}

we can get:
\begin{equation}
\omega = \pm A.
\end{equation}
So we obtain the dispersion relation for ferromagnetic spin waves:
\begin{equation}
    \colorboxed{
    |\omega| \approx |J|S a_0^2 |\bm{p}|^2
    }
\end{equation}
We find that the frequency of the low-energy excitations of a quantum ferromagnetic scales as the square of the momentum.

\input{Tikz/SpinWave.tex}

\section{Quantum Antiferromagnetic of one-dimension}

Consider a spin chain with an even number of sites $N$; we can write down the action of it ($J=|J|$):
\begin{equation}
    \label{eq:action_afm}
    S_M[\bm{n}] = S \sum_{i}^N S_{WZ}[\bm{n}] - \int \mathrm{d}t \sum_{i}^N J S^2 \bm{n}(i,t) \cdot \bm{n}(i+1, t)
\end{equation}
where we have assumed periodic boundary conditions.

\input{Tikz/spin_afm_diagram.tex}

Since we expect to be close to a N\'{e}el state, we will stagger the configuration:
\begin{equation}
    \label{eq:staggered_configuration}
    \bm{n}(j) \to (-1)^j \bm{n}(j)
\end{equation}

On a bipartite lattice, the substitution of \cref{eq:staggered_configuration} into \cref{eq:action_afm} will change the sign of the exchange term of the action to a ferromagnetic:
\begin{equation}
S_M[\bm{n}] = S \sum_{i}^N (-1)^i S_{WZ}[\bm{n}(i)] - \frac{|J|S^2}{2} \int \mathrm{d}t \sum_{i=1}^N (-1)^i \bm{n}(i,t) \cdot (-1)^{i+1} \bm{n}(i+1,t)
\end{equation}
so the energy term become to:
\begin{equation}
S_e = \frac{|J|S^2}{2} \int \mathrm{d}t \sum_{i=1}^N \bm{n}(i,t) \bm{n}(i+1,t)
\end{equation}
which is similar to ferromagnetic.
But the Wess-Zumino terms become staggered under the replacement of \cref{eq:staggered_configuration}.
Thus, it is the Wess-Zumino term, a purely quantum-mechanical effect, 
which will distinguish ferromagnets from antiferromagnets.

As antiferromagnetic, we can split $\bm{n}$ into a slowly varying piece $\bm{m}$ plus a small rapidly varying part $a_0 \bm{l}$, so:
\begin{equation}
\bm{n}(i) = \bm{m}(i) + (-1)^i a_0 \bm{l}(i)
\end{equation}

The constraint $|\bm{n}|^2=1$ and requirement that $\bm{m}$ should obey the same constraint, and demand that $\bm{m}$ and $\bm{l}$ be orthogonal vector:
\begin{equation}
\begin{cases}
|\bm{m}|^2 = 1 \\
\bm{m} \cdot \bm{l} = 0
\end{cases}
\end{equation}
The Wess-Zumino terms are rewritten as:
\begin{equation}
S \sum_i^N (-1)^i S_{WZ}[\bm{n}(i)] = S \sum_{r=1}^{N/2} \{ S_{WZ}[\bm{n}(2r)] - S_{WZ}[\bm{n}(2r-1)] \}
\end{equation}

\input{Tikz/afm_chain.tex}

By making use of the approximation:
\begin{equation}
\begin{aligned}
\bm{n}(2r) - \bm{n}(2r-1) &= \bm{m}(2r) - \bm{m}(2r-1) + a_0 [\bm{l}(2r) + \bm{l}(2r-1)] \\
&\approx a_0 \left[ \frac{\partial \bm{m}(2r)}{\partial x} + 2 \bm{l}(2r) \right] + O(a_0^2)
\end{aligned}
\end{equation}
So the geometric term becomes (use the similar method of area variation, see \cref{fig:antiferromagnetic_variation})
\begin{equation}
\begin{aligned}
S \sum_r^N (-1)^i S_{WZ}[\bm{n}(i)] 
&\approx S \sum_{r=1}^{N/2} (\bm{n}(2r) - \bm{n}(2r-1)) [\bm{n}(2r) \times \frac{\partial \bm{n}(2r)}{\partial t}] \\
&\approx S \sum_{r=1}^{N/2} a_0 \left[ \frac{\partial \bm{m}(2r)}{\partial x} + 2 \bm{l}(2r) \right] \left[ \bm{m}(2r) \times \frac{\partial \bm{m}(2r)}{\partial t} \right]
\end{aligned}
\end{equation}

\input{Tikz/AnitferromagneticDiagram.tex}

Using continuum limit ($a_0 \to 0$):
\begin{equation}
\begin{aligned}
\lim_{a_0 \to 0} S_g 
&\approx \frac{S}{2} \sum_{r=1}^N (\dots) \quad (\text{periodic boundary conditions}) \\
&= \frac{S}{2} \int \mathrm{d}x \mathrm{d}t (\partial_x \bm{m} + 2 \bm{l}) \cdot (\bm{m} \times \partial_t \bm{m})
\end{aligned}
\end{equation}

Thus, it can be simplified to:
\begin{equation}
S_g \approx \frac{S}{2} \int \mathrm{d}x \mathrm{d}t \cdot \bm{m} (\partial_t \bm{m} \times \partial_x \bm{m}) + S \int \mathrm{d}x \mathrm{d}t \bm{l} (\bm{m} \times \partial_t \bm{m})
\end{equation}
This term comes from alternating sum of WZ terms.
Similarly, the continuum limit of the energy terms can also be found to be given by:
\begin{equation}
\begin{aligned}
&\lim_{a_0 \to 0} \frac{|J|S^2}{2} \int \mathrm{d}t \sum_{i=1}^N \bm{n}(i,t) \bm{n}(i+1,t) \\
\xrightarrow{\text{drop global phase}} &\lim_{a_0 \to 0} \frac{-|J|S^2}{2} \int \mathrm{d}t \sum_{i=1}^N [\bm{n}(i+1,t) - \bm{n}(i,t)]^2 \\
&\approx \frac{-|J|S^2}{2} \int \mathrm{d}t \sum_i [ (\bm{m}(i+1) - \bm{m}(i)) + a_0 \bm{l}(i+1) + a_0 \bm{l}(i) ]^2 \\
&\approx \frac{-|J|S^2}{2} \int \mathrm{d}t \sum_i a_0^2 (\frac{\Delta \bm{m}}{a_0} + 2\bm{l})^2 \\
&= \frac{-|J|S^2}{2} \int \mathrm{d}t a_0 \int \mathrm{d}x [ (\partial_x \bm{m})^2 + \underbrace{4 \frac{\Delta \bm{m}}{a_0} \cdot \bm{l}}_{=0} + 4\bm{l}^2 ] \\
&= \frac{-|J|S^2 a_0}{2} \int \mathrm{d}t \mathrm{d}x [ (\partial_x \bm{m})^2 + 4\bm{l}^2 ]
\end{aligned}
\end{equation}
So the total Lagrangian density involving both the order parameter $\bm{m}$ and $\bm{l}$:
\begin{equation}
\mathcal{L}_M(\bm{m}, \bm{l}) = -2 a_0 |J| S^2 \bm{l}^2 + S \bm{l} (\bm{m} \times \partial_t \bm{m}) - \frac{a_0 |J| S^2}{2} (\partial_x \bm{m})^2 + \frac{S}{2} \bm{m} \cdot (\partial_t \bm{m} \times \partial_x \bm{m})
\end{equation}
where $\bm{m}$ is the order parameter field and $\bm{l}$ roughly represents the average spin field.

The Lagrangian has a quadratic term for $\bm{l}$:
\begin{equation}
\mathcal{L}_{\bm{l}} = -2 a_0 |J| S^2 \bm{l}^2 + S (\bm{m} \times \partial_t \bm{m}) \bm{l}.
\end{equation}
To integrate out $\bm{l}$, we minimize the action with respect to $\bm{l}$:
\begin{equation}
\frac{\partial \mathcal{L}_{\bm{l}}}{\partial \bm{l}} = -4 a_0 |J| S^2 \bm{l} + S (\bm{m} \times \partial_t \bm{m}) = 0
\end{equation}
so we solve for $\bm{l}$:
\begin{equation}
\bm{l} = \frac{1}{4 a_0 |J| S} (\bm{m} \times \partial_t \bm{m})
\end{equation}
Now we subsitute the expression for $\bm{l}$ found above back into $\mathcal{L}_{\bm{l}}$:
\begin{equation}
\begin{aligned}
\mathcal{L}_{\bm{l}}^{\text{eff}} &= \frac{1}{8 a_0 |J|} (\bm{m} \times \partial_t \bm{m})^2 \quad (\bm{m} \perp \partial_t \bm{m} \text{ because } \bm{m} \text{ is on the sphere}) \\
&= \frac{1}{8 a_0 |J|} (\partial_t \bm{m})^2
\end{aligned}
\end{equation}
Final we can combine the new term with original term that do not depend on $\bm{l}$:
\begin{equation}
    \label{eq:lagrangian_density}
    \begin{aligned}
    \mathcal{L}(\bm{m}) &= \frac{1}{8 a_0 J} (\partial_t \bm{m})^2 - \frac{a_0 J S^2}{2} (\partial_x \bm{m})^2 + \frac{S}{2} \bm{m} (\partial_t \bm{m} \times \partial_x \bm{m}) \\
    &= \frac{1}{2g} \left[ \frac{1}{v_s} (\partial_t \bm{m})^2 - v_s (\partial_x \bm{m})^2 \right] + \underbrace{\frac{\theta}{8\pi} \epsilon_{\mu\nu} \bm{m} (\partial_\mu \bm{m} \times \partial_\nu \bm{m})}_{\text{Einstein summation}}
    \end{aligned}
    \end{equation}
where $g$ and $v_s$ are respectively the coupling constant and spin-wave velocity:
\begin{equation}
\begin{cases}
g = \frac{2}{S} \\
v_s = 2 a_0 |J| S
\end{cases}
\end{equation}

The last term in \cref{eq:lagrangian_density} has topological significance. 
We have chosen the normalization so that the coupling constant $\theta$ is given by:
\begin{equation}
\theta = 2 \pi S
\end{equation}
The tensor $\epsilon_{\mu\nu}$ is the usual Levi-Civita antisymmetric tensor in two dimensions 
($\mu,\nu=t,x(t \to 0, x \to 1)$):
\begin{equation}
\epsilon_{\mu\nu} = \begin{cases}
1 & (\mu,\nu) = (0,1) \\
-1 & (\mu,\nu) = (1,0) \\
0 & \text{otherwise}.
\end{cases}
\end{equation}
The result is the Lagrangian density of non-linear sigma model.

\section{The role of topological term.}

Go back to Euclidean spacetime ($\mathrm{i} S_M \to -S_E$):
\begin{equation}
\mathrm{i} S_M = \mathrm{i} \int \mathrm{d}t \mathrm{d}x \mathcal{L}_M [\bm{m}(t,x)] 
= - \int \mathrm{d}\tau \mathrm{d}x \mathcal{L}_E [\bm{m}(\tau,x)]
\end{equation}
So we can get the Lagrangian density $\mathcal{L}_E$ of Euclidean sector ($x_2 = \mathrm{i}t = \mathrm{i}x_0$)
\begin{equation}
    \colorboxed{
    \mathcal{L}_E = \frac{1}{2g} [(\partial_1 \bm{m})^2 + (\partial_2 \bm{m})^2] + 
    \frac{\mathrm{i}\theta}{8\pi} \epsilon_{ij} \bm{m} \cdot (\partial_i \bm{m} \times \partial_j \bm{m})
    }
\end{equation}
where $i,j = 1,2$.

We now define the Pontryagin index or topological charge (or winding number) $\mathcal{Q}$ 
of the Euclidean space spin configuration $\{\bm{m}(\bm{x})\}$ by the following expression:
\begin{equation}
    \colorboxed{
    \begin{aligned}
    \mathcal{Q} &= \frac{1}{8\pi} \int \mathrm{d}^2x \, \epsilon_{ij} \bm{m} (\partial_i \bm{m} \times \partial_j \bm{m}) \\
    &= \frac{1}{4\pi} \int \mathrm{d}^2x \, \bm{m} (\partial_1 \bm{m} \times \partial_2 \bm{m})
    \end{aligned}
    }
\end{equation}
We impose the boundary condition that the Euclidean action be finite. This is equivalent to the requirement that asymptotically $\bm{m}$ becomes a constant vector $\bm{m}_0$ at spatial-time infinity:
\begin{equation}
\lim_{|\bm{x}|\to\infty} \bm{m}(\bm{x}) = \bm{m}_0
\end{equation}
Thus, the 2D Euclidean space-time is isomorphic to a sphere $S_2$ since the fields are identified with $\bm{m}_0$ at the point of infinity.
However, the order parameter manifold ("target space") is also isomorphic to a sphere $S_2$, 
since the constraint $\bm{m}^2=1$ has to be satisfied everywhere(see figure \ref{fig:topological_mapping}).

\input{Tikz/Topological_Mapping.tex}

The topological charge $\mathcal{Q}$ is in the sense that it counts how many times the spin configuration $\bm{m}$ has wrapped around the sphere $S_2$.

So the topological term of action is:
\begin{equation}
    \colorboxed{
    S_{\text{top}} = \mathrm{e}^{\mathrm{i} \cdot 2\pi S \mathcal{Q}} = (-1)^{2S\mathcal{Q}}
    }
\end{equation}
Thus:
\begin{equation}
\mathrm{e}^{\mathrm{i} \cdot 2\pi S \mathcal{Q}} = \begin{cases}
1 & \text{for } S=1,2 \dots (\text{integer spin}) \\
(-1)^{\mathcal{Q}} & \text{for } S=\frac{1}{2}, \frac{3}{2}, \dots (\text{half-odd-integer})
\end{cases}
\end{equation}

We can see that:
\begin{enumerate}[(1)]
    \item $S$ is an integer: the spin chain is described at low energies by the standard non-linear sigma model, without a topological term.
    \item $S$ is half integral $S$: each topological class contributes to the weight of the integral with a sign that is positive (negative) if the winding number $\mathcal{Q}$ is even (odd)
\end{enumerate}

The integer- and half-integer-spin chains fall in different universality classes. We will now see that this property implies a very important result, known as Haldane's conjecture, that states that the integer-spin chains are massive (have an energy gap), whereas the half-integer-spin chains are massless as in the spin one-half case.